<section>
  <div class="split">
    <h3>Conditions</h3>
    <div>
      <button
        [ngClass]="{ 'error-field-outlined ng-invalid': showError }"
        type="button"
        [matMenuTriggerFor]="decisionComponentMenu"
        mat-flat-button
        color="primary"
      >
        Add Condition â–¾
      </button>
      <app-error-message *ngIf="showError"></app-error-message>
    </div>
  </div>

  <mat-menu xPosition="before" #decisionComponentMenu="matMenu">
    <button *ngFor="let type of activeTypes" mat-menu-item (click)="onAddNewCondition(type.code)">
      <div class="board-menu-item">
        <span>{{ type.label }}</span>
      </div>
    </button>
  </mat-menu>

  <div class="condition" *ngFor="let condition of mappedConditions; let index = index; trackBy: trackByFn">
    <app-app-decision-condition
      [(data)]="mappedConditions[index]"
      (dataChange)="onChanges()"
      (remove)="onRemoveCondition(index)"
      [selectableComponents]="selectableComponents"
      [showDateError]="showDateErrors"
    ></app-app-decision-condition>
  </div>
</section>
