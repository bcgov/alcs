<div class="tag-container" (mouseenter)="hovered = true" (mouseleave)="hovered = false">
  <mat-form-field class="tag-field" appearance="outline">
    <mat-chip-grid #chipGrid>
      <!-- <mat-chip-row style="border-radius: 2px" *ngFor="let tag of tags" (removed)="removeTag(tag)"
        >{{ tag.name }}
        <button matChipRemove [attr.aria-label]="'remove ' + tag">
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip-row> -->
      <app-tag-chip *ngFor="let tag of tags" (removeClicked)="removeTag(tag)" [tag]="tag"></app-tag-chip>
      <input
        placeholder="Add tag..."
        #tagInput
        [matChipInputFor]="chipGrid"
        [formControl]="tagControl"
        [matAutocomplete]="auto"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
        (matChipInputTokenEnd)="addTag($event)"
        (focus)="showPlaceholder = false"
        (blur)="showPlaceholder = tags.length === 0"
      />
    </mat-chip-grid>
    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectTag($event)">
      <mat-option *ngFor="let tag of filteredTags | async" [value]="tag">{{ tag.name }}</mat-option>
    </mat-autocomplete>
  </mat-form-field>
</div>
