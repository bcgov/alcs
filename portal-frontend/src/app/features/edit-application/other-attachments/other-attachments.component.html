<h2>Optional Attachments</h2>
<p>
  Please upload any optional supporting documents. Where possible, provide KML/KMZ Google Earth files or GIS shapefiles
  and geodatabases.
</p>
<p>
  NOTE: All documents submitted as part of your application will be viewable to the public on the ALC website. Do not
  include confidential material within your application.
</p>
<section>
  <h4>Optional Attachments (Max. 100 MB per attachment)</h4>
  <div class="scrollable">
    <table mat-table [dataSource]="otherFiles">
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef>Type</th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field appearance="outline">
            <mat-select
              [value]="element.type"
              (valueChange)="onChangeType(element.uuid, $event)"
              placeholder="Select a type"
            >
              <mat-option *ngFor="let type of selectableTypes" [value]="type">{{ type }}</mat-option>
            </mat-select>
          </mat-form-field>
        </td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field appearance="outline">
            <input
              [value]="element.description"
              (change)="onChangeDescription(element.uuid, $event)"
              id="fileType"
              type="text"
              matInput
              placeholder="Type description"
            />
          </mat-form-field>
        </td>
      </ng-container>

      <ng-container matColumnDef="fileName">
        <th mat-header-cell *matHeaderCellDef>File Name</th>
        <td mat-cell *matCellDef="let element">
          <a (click)="openFile(element.uuid)">{{ element.fileName }}</a>
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell class="actions" *matCellDef="let element">
          <button (click)="onRemoveFile(element.uuid)" mat-stroked-button color="accent">Remove</button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
  <div class="uploader">
    <app-file-drag-drop (uploadFiles)="attachFile($event)"></app-file-drag-drop>
  </div>
</section>
<div class="button-container">
  <button (click)="onSaveExit()" mat-stroked-button color="accent">Save and Exit</button>
  <div>
    <button (click)="onSave()" mat-stroked-button matStepperPrevious color="primary">
      Previous<span class="mobile-hidden"> Step</span>
    </button>
    <button (click)="onSave()" mat-flat-button matStepperNext color="primary">
      Next<span class="mobile-hidden"> Step</span>
    </button>
  </div>
</div>
