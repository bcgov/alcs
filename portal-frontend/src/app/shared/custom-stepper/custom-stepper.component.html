<section>
  <header class="header">
    <div class="stepper-wrapper">
      <button class="stepper-controls" (click)="scrollLeft()">
        <mat-icon>arrow_back_ios</mat-icon>
      </button>
      <div #stepsWrapper id="stepsWrapper" data-testid="steps" class="steps-wrapper">
        @for (step of steps; track step; let i = $index) {
          <div class="step-wrapper" id="stepWrapper_{{ i }}" tabindex="i">
            <div class="step" (click)="navigateToStep(i)">
              <div [ngClass]="{ active: selectedIndex === i, 'step-number': true }">
                <div>{{ i + 1 }}</div>
              </div>
              <div class="step-label">
                @if (step.stepLabel) {
                  <ng-container
                    [ngTemplateOutlet]="step.stepLabel.template"
                  ></ng-container>
                } @else {
                  @if (step.label) {
                    <span>{{ step.label }}</span>
                  }
                }
              </div>
            </div>
          </div>
        }
      </div>
      <button class="stepper-controls" (click)="scrollRight()">
        <mat-icon>arrow_forward_ios</mat-icon>
      </button>
    </div>
  </header>

  <div [ngTemplateOutlet]="selected ? selected.content : null"></div>
</section>
